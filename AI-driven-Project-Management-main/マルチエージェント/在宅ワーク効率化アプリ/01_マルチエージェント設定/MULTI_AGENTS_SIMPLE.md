# シンプルマルチエージェント構成（社長・PM・マーケター・プログラマー・コードチェック）

**版:** v1.2  
**目的:**  
社長、PM、マーケター、プログラマー、コードチェックの5つのエージェントが協調してアプリ開発を進める。

---

## 1) エージェント構成

| エージェントID | 役割名 | 主な責任範囲 | 独立実行可能 |
|---|---|---|---|
| `agent-ceo` | 社長 | 戦略的意思決定・最終承認・リソース配分・優先順位決定 | ✅ |
| `agent-pm` | プロジェクトマネージャー | 全体計画・進捗管理・統合・意思決定 | ✅ |
| `agent-marketer` | マーケター | 市場分析・ユーザー調査・マーケティング戦略・プロダクトマーケティング | ✅ |
| `agent-programmer` | プログラマー | コード実装・機能開発 | ✅ |
| `agent-codecheck` | コードチェック | コードレビュー・品質チェック・バグ検出 | ✅ |

---

## 2) 各エージェントの詳細定義

### 2.1 社長（agent-ceo）

**役割定義:**
プロジェクトの戦略的意思決定と最終承認を担当。ビジネス価値の判断とリソース配分を決定する。

**独立実行可能タスク:**
- プロジェクトの承認・却下
- 戦略的方向性の決定
- 優先順位の決定
- リソース配分の決定
- 予算の承認
- 重要な意思決定
- ビジネス価値の評価
- ステークホルダーとの調整（経営層レベル）

**他エージェントとの連携:**
- PMから重要事項の報告を受領
- 重要な決定事項をPMに指示
- プロジェクトの方向性を決定
- 最終承認を実施

**出力形式:**
- 意思決定記録（Markdown）
- 承認書
- 戦略方針書

**保存先:** `/{ProjectName}/01_プロジェクト管理ドキュメント/意思決定/`

---

### 2.2 プロジェクトマネージャー（agent-pm）

**役割定義:**
プロジェクト全体を統括し、計画・進捗管理・意思決定を担当。

**独立実行可能タスク:**
- プロジェクト計画の作成
- タスクの分解・割り当て
- 進捗管理・ステータス確認
- リスク管理
- ステークホルダーとの調整
- 週次レポートの作成
- 意思決定・承認

**他エージェントとの連携:**
- 社長に重要事項を報告・承認依頼
- プログラマーにタスクを割り当て
- コードチェックからレビュー結果を受領
- 全体の進捗を統合管理

**設定ファイル:** `AGENTS.md`（既存）

---

### 2.3 マーケター（agent-marketer）

**役割定義:**
市場分析とユーザー調査を担当し、マーケティング戦略とプロダクト要件を提供する。

**独立実行可能タスク:**
- 市場調査・分析
- ユーザー調査・ペルソナ定義
- 競合分析
- マーケティング戦略の策定
- プロダクトマーケティング要件の定義
- ユーザーストーリーの作成支援
- マーケティング計画の作成
- リリース戦略の策定

**他エージェントとの連携:**
- PMに市場情報・ユーザー要件を提供
- プログラマーにユーザー要件を提供
- 社長に市場分析結果を報告

**出力形式:**
- 市場分析レポート（Markdown）
- ユーザー調査レポート
- マーケティング戦略書
- プロダクト要件書

**保存先:** `/{ProjectName}/02_マーケティング/`

---

### 2.4 プログラマー（agent-programmer）

**役割定義:**
コードの実装と機能開発を担当。

**独立実行可能タスク:**
- コードの実装
- 機能の開発
- バグ修正
- リファクタリング
- 実装メモの作成

**他エージェントとの連携:**
- PMからタスクを受領
- 実装完了後、コードチェックに提出
- コードチェックからの指摘を反映

**出力形式:**
- ソースコード
- 実装メモ（Markdown）

**保存先:** `/{ProjectName}/04_開発/`

---

### 2.5 コードチェック（agent-codecheck）

**役割定義:**
コードのレビューと品質チェックを担当。

**独立実行可能タスク:**
- コードレビューの実施
- バグの検出
- コード品質の評価
- セキュリティチェック
- パフォーマンスチェック
- コーディング規約の遵守確認
- レビュー結果のレポート作成

**他エージェントとの連携:**
- プログラマーからコードを受領
- レビュー結果をPMとプログラマーに報告
- 承認/差し戻しの判断

**出力形式:**
- コードレビュー記録（Markdown）
- バグレポート
- 品質レポート

**保存先:** `/{ProjectName}/05_コードレビュー/`

---

## 3) ワークフロー

### 3.1 基本的な開発フロー

```
1. 社長がプロジェクト方針・優先順位を決定
   ↓
2. マーケターが市場調査・ユーザー要件を提供
   ↓
3. PMがタスクを定義・割り当て（マーケターの要件を反映、社長の承認が必要な場合は承認を取得）
   ↓
4. プログラマーがコードを実装（マーケターの要件を考慮）
   ↓
5. コードチェックがレビューを実施
   ↓
6. レビュー結果に基づいて：
   - OK → PMに報告、完了
   - NG → プログラマーに差し戻し（4に戻る）
   ↓
7. 重要なマイルストーンは社長に報告・承認
8. リリース時はマーケターがマーケティング戦略を実行
```

### 3.2 意思決定フロー

```
1. PMが重要事項を社長に報告
   ↓
2. 社長が意思決定・承認
   ↓
3. PMが決定事項を実行
```

### 3.3 マーケティング連携フロー

```
1. マーケターが市場調査・ユーザー要件を提供
   ↓
2. PMが要件を反映してタスクを定義
   ↓
3. プログラマーがユーザー要件を考慮して実装
   ↓
4. リリース時にマーケターがマーケティング戦略を実行
```

### 3.4 並列実行の例

```
PM: タスクAとタスクBを定義
  ↓
プログラマー: タスクAを実装
コードチェック: タスクBのレビュー（既に実装済み）
  ↓
PM: 進捗を統合管理
```

---

## 4) 実行例

### 例1: プロジェクト開始時の承認と市場調査

```
ユーザー: 
@agent-ceo 新規アプリ開発プロジェクトを承認してください。
プロジェクト概要を確認し、承認・却下を判断してください。

agent-ceo:
1. プロジェクト概要を確認
2. ビジネス価値を評価
3. リソース配分を検討
4. 承認・却下を決定
5. 決定事項を記録
6. PMに指示

---

ユーザー: 
@agent-marketer 市場調査とユーザー要件を分析してください。
承認されたプロジェクトの市場ポジションとユーザーニーズを調査してください。

agent-marketer:
1. 市場調査を実施
2. 競合分析を実施
3. ユーザーペルソナを定義
4. ユーザー要件を整理
5. マーケティング戦略を策定
6. PMに要件を提供

---

ユーザー: 
@agent-pm 社長から承認されたプロジェクトの計画を作成してください。
マーケターから提供された要件を反映してください。

agent-pm:
1. 社長の承認内容を確認
2. マーケターの要件を確認
3. プロジェクト計画を作成
4. タスクを定義
5. スケジュールを設定
```

### 例2: マーケター連携の開発サイクル

```
ユーザー: 
@agent-marketer 新機能のユーザー要件を定義してください。
ログイン機能について、ユーザーニーズを調査して要件を整理してください。

agent-marketer:
1. ユーザー調査を実施
2. ユーザーニーズを分析
3. 機能要件を定義
4. ユーザーストーリーを作成
5. PMとプログラマーに要件を提供

---

ユーザー: 
@agent-pm ログイン機能の実装タスクを作成してください。
マーケターから提供された要件を反映してください。

agent-pm:
1. マーケターの要件を確認
2. タスクを定義
3. プログラマーに割り当て
4. スケジュールを設定

---

ユーザー: 
@agent-programmer ログイン機能を実装してください。
PMから割り当てられたタスクとマーケターの要件に基づいて実装してください。

agent-programmer:
1. タスクを確認
2. マーケターの要件を確認
3. コードを実装
4. 実装メモを作成
5. コードチェックに提出
```

### 例3: 基本的な開発サイクル

```
ユーザー: 
@agent-pm ログイン機能の実装タスクを作成してください。

agent-pm:
1. タスクを定義
2. プログラマーに割り当て
3. スケジュールを設定

---

ユーザー: 
@agent-programmer ログイン機能を実装してください。
PMから割り当てられたタスクに基づいて実装してください。

agent-programmer:
1. タスクを確認
2. コードを実装
3. 実装メモを作成
4. コードチェックに提出

---

ユーザー: 
@agent-codecheck 実装されたログイン機能のコードレビューを実施してください。

agent-codecheck:
1. コードをレビュー
2. バグ・問題点を検出
3. レビュー結果をレポート
4. PMとプログラマーに報告
```

### 例4: 重要な意思決定

```
ユーザー: 
@agent-pm 予算超過の可能性があるため、社長に報告してください。

agent-pm:
1. 状況を整理
2. 社長に報告書を作成
3. 承認依頼

---

ユーザー: 
@agent-ceo PMからの報告を確認し、予算超過について意思決定してください。

agent-ceo:
1. 報告内容を確認
2. ビジネス影響を評価
3. 意思決定（予算追加承認/スコープ削減/等）
4. 決定事項を記録
5. PMに指示
```

### 例5: 差し戻しフロー

```
agent-codecheck: レビュー結果を報告
  - セキュリティ問題を指摘
  - 差し戻しを推奨

agent-pm: 差し戻しを承認

agent-programmer: 指摘事項を修正
  - セキュリティ対策を実装
  - 再提出

agent-codecheck: 再レビュー
  - 問題なし → 承認
```

### 例6: 並列作業

```
ユーザー: 
以下のタスクを並列で進めてください：
- @agent-marketer: 市場調査を実施
- @agent-programmer: 機能Aを実装
- @agent-codecheck: 機能Bのレビュー（既に実装済み）
- @agent-pm: 全体の進捗を管理

各エージェントは独立して作業し、必要に応じて連携してください。
```

```
ユーザー: 
以下のタスクを並列で進めてください：
- @agent-programmer: 機能Aを実装
- @agent-codecheck: 機能Bのレビュー（既に実装済み）
- @agent-pm: 全体の進捗を管理

各エージェントは独立して作業し、必要に応じて連携してください。
```

---

## 5) コミュニケーションルール

### 5.1 社長 → PM
- 戦略的方向性の指示
- 重要な意思決定
- 優先順位の決定
- リソース配分の決定

### 5.2 PM → 社長
- 重要事項の報告
- 承認依頼
- 進捗報告（マイルストーン時）
- リスク・課題の報告

### 5.3 マーケター → PM・プログラマー
- 市場情報の提供
- ユーザー要件の提供
- ユーザーストーリーの提供
- マーケティング戦略の共有

### 5.4 PM → マーケター
- プロジェクト要件の共有
- スケジュール情報の共有
- 機能要件の確認依頼

### 5.5 PM → プログラマー
- タスクの明確な定義
- 優先度の指示
- 期限の設定

### 5.6 プログラマー → コードチェック
- 実装完了の通知
- コードの提出
- 実装メモの共有

### 5.7 コードチェック → PM・プログラマー
- レビュー結果の報告
- 承認/差し戻しの判断
- 改善提案

---

## 6) 品質基準

### 6.1 コードチェックのチェック項目
- **機能性**: 要件を満たしているか
- **セキュリティ**: セキュリティ対策は適切か
- **パフォーマンス**: パフォーマンスは問題ないか
- **可読性**: コードは読みやすいか
- **保守性**: 保守しやすい構造か
- **コーディング規約**: 規約を遵守しているか

---

## 7) ファイル構成

```
/{ProjectName}/
├── 01_プロジェクト管理ドキュメント/
│   ├── 意思決定/          # 社長の意思決定記録
│   ├── タスク管理/
│   ├── 進捗レポート/
│   └── リスク管理/
├── 02_マーケティング/
│   ├── 市場調査/
│   ├── ユーザー調査/
│   ├── 競合分析/
│   └── マーケティング戦略/
├── 04_開発/
│   ├── ソースコード/
│   └── 実装メモ/
└── 05_コードレビュー/
    ├── レビュー記録/
    ├── バグレポート/
    └── 品質レポート/
```

---

## 8) 使用時の注意事項

- **独立性の維持**: 各エージェントは自身の責任範囲に集中
- **明確なコミュニケーション**: タスク・レビュー結果を明確に伝達
- **フィードバックループ**: レビュー→修正→再レビューのサイクルを確立
- **進捗の可視化**: PMが全体の進捗を常に把握

---

## 9) 次のステップ

1. 各エージェント用の個別設定ファイルを作成
2. プロジェクトに合わせてカスタマイズ
3. 実際の開発で試行・改善
