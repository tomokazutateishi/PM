# name: 進捗報告書
# description: PMBOK準拠の進捗報告書を自動生成します

## 概要
PMBOK（主に統合・進捗・コミュニケーション/ステークホルダー/品質/リスク/変更管理）に沿った「進捗報告書」を、入力値に基づき日本語Markdownで自動生成します。出力は `markdown:進捗報告書_{Project}_{YYYYMMDD}.md` の **コードフェンス付き**で返すため、そのままダウンロードできます。

## 入力項目（Arguments）
- project_name（必須）: プロジェクト名
- report_date（必須）: 報告日（YYYY-MM-DD）
- period_start（必須）: 対象期間（開始：YYYY-MM-DD）
- period_end（必須）: 対象期間（終了：YYYY-MM-DD）
- overall_status（必須）: 全体ステータス（🟢/🟡/🟠/🔴）
- summary（必須）: 1〜3行のエグゼクティブサマリー
- milestones（任意）: 主要マイルストンの進捗（箇条書き）
- scope_status（任意）: スコープの状況（変更有無・影響）
- schedule_status（任意）: スケジュール状況（差異/対策）
- cost_status（任意）: コスト状況（実績/予算/差異/対策）
- quality_status（任意）: 品質状況（欠陥/再発防止）
- risk_items（任意）: 主要リスク（表形式で出力したい行を箇条書きで）
- issue_items（任意）: 主要課題（表形式で出力したい行を箇条書きで）
- change_requests（任意）: 変更要求（ID/概要/影響/承認状況）
- kpi_metrics（任意）: KPI指標（指標名/今週/前週/目標/コメント）
- actions_next_week（任意）: 来週の主要アクション（箇条書き）
- stakeholder_notes（任意）: 連絡・合意事項（誰に/内容/日付）
- approval_route（任意）: 承認ルート（承認者/期日/方法）
- appendix（任意）: 参考資料リンクや補足

## 実行プロンプト（Command Prompt）
以下を system に準拠する形で実行。出力は **必ず** コードフェンス ` ```markdown:ファイル名.md ` で返すこと。

```
あなたはPMBOKに精通したプロジェクトマネージャーです。与えられた引数から、日本語で「進捗報告書（PMBOK準拠）」をMarkdownとして作成してください。出力は**必ず**次の仕様で生成します。

- 先頭と末尾を、ファイル名付きのコードフェンスで囲むこと：
  ```markdown:進捗報告書_{{project_name}}_{{report_date}}.md
  ...本文...
  ```
- Markdownの見出し・表・箇条書きを適切に使用し、読みやすさと即時配布性を重視
- 入力がない任意項目は見出しを残しつつ「（該当なし）」と明記
- 数値・差異・期日などは具体値を優先
- ステータスは🟢/🟡/🟠/🔴を使い、理由と是正策を簡潔に
- リスク・課題は「識別子/内容/影響/優先度/対応/期日/責任」を1行1項目で表に
- 変更要求は「ID/概要/スコープ影響/コスト影響/スケジュール影響/品質影響/承認状況」
- KPIは「指標/今週/前週/目標/コメント」を表で
- 最下部に版管理用フッター（生成日時/作成者=Cursor Command/バージョン）を付与

【進捗報告書テンプレート（生成対象）】

```markdown:進捗報告書_{{project_name}}_{{report_date}}.md
# 進捗報告書（PMBOK準拠）

- **プロジェクト名**: {{project_name}}
- **報告日**: {{report_date}}
- **対象期間**: {{period_start}} ～ {{period_end}}
- **全体ステータス**: {{overall_status}}

## 1. エグゼクティブサマリー
{{summary}}

## 2. ハイライト / 主要トピック
- 達成事項:
  - （例）主要マイルストンA達成 … 影響/価値
  - （例）リスクXの回避策を実装
- 懸念事項:
  - （例）外部依存の遅延によりBタスクに影響

## 3. マイルストン進捗
{{milestones | default("（該当なし）")}}

## 4. 知識エリア別ステータス
### 4.1 スコープ
{{scope_status | default("（該当なし）")}}

### 4.2 スケジュール
{{schedule_status | default("（該当なし）")}}

### 4.3 コスト
{{cost_status | default("（該当なし）")}}

### 4.4 品質
{{quality_status | default("（該当なし）")}}

## 5. KPI/メトリクス
| 指標 | 今週 | 前週 | 目標 | コメント |
|---|---:|---:|---:|---|
{{kpi_metrics | default("| （該当なし） |  -  |  -  |  -  |  -  |")}}

## 6. リスク（上位）
> 優先度は High/Medium/Low などで表記
| ID | 内容 | 影響 | 優先度 | 対応 | 期日 | 責任 |
|---|---|---|---|---|---|---|
{{risk_items | default("| - | （該当なし） | - | - | - | - | - |")}}

## 7. 課題（上位）
| ID | 内容 | 影響 | 優先度 | 対応 | 期日 | 責任 |
|---|---|---|---|---|---|---|
{{issue_items | default("| - | （該当なし） | - | - | - | - | - |")}}

## 8. 変更要求（CR）
| ID | 概要 | スコープ影響 | コスト影響 | スケジュール影響 | 品質影響 | 承認状況 |
|---|---|---|---:|---:|---|---|
{{change_requests | default("| - | （該当なし） | - | - | - | - | - |")}}

## 9. 次週の主要アクション
{{actions_next_week | default("（該当なし）")}}

## 10. ステークホルダー連絡・合意事項
{{stakeholder_notes | default("（該当なし）")}}

## 11. 承認ルート
{{approval_route | default("（該当なし）")}}

## 12. 参考資料・付録
{{appendix | default("（該当なし）")}}
