# name: テスト計画書
# description: PMBOK準拠のテスト計画書を自動生成します

**Description:** 入力パラメータに基づき、PMBOKに整合した「テスト計画書（Test Plan）」を日本語Markdownで自動生成します。生成物はそのままレビュー・配布可能な体裁（見出し・表・チェックリスト）で出力します。  
**When to use:** 新規プロジェクト/リリースのテスト計画立案、計画の改訂、見積・体制合意時。  
**Output:** 1つのMarkdown文書（# テスト計画書 から始まる完全版）

---

## Parameters
> 必要に応じて空欄可。不要節は「該当なし」で出力。

- プロジェクト名（必須）
- バージョン/版数（例: v1.0）
- 作成日（YYYY-MM-DD）
- 作成者/連絡先
- 計画対象期間（例: 2025-11-01 ～ 2026-01-31）
- 目的・背景（1-3文）
- スコープ（対象/非対象の要約）
- 成果物リスト（例: TC一覧、結果レポート、欠陥台帳 等）
- 品質目標/KPI（例: 欠陥密度≤X、合格率≥Y% 等）
- テストレベル（例: UT/IT/ST/UAT/回帰/パフォーマンス/セキュリティ）
- 重要領域（高リスク・高価値モジュール名）
- 前提・制約（例: 環境/データ/外部依存）
- リスク一覧（主要リスクと対応方針の要約）
- 体制/役割（RACI要旨）
- ツール/レポジトリ（例: TestRail, Jira, Git, CI/CD）
- スケジュール主要マイルストーン
- 見積（工数/コストの概算）
- コミュニケーション（会議体/報告頻度）
- セキュリティ/個人情報（データ匿名化・取り扱い）

---

## Prompt
あなたは**ソフトウェア品質保証（SQA）リードかつPMBOKに精通したテストマネージャ**です。与えられた**Parameters**を用い、以下の**出力要件**と**テンプレート**に厳密に従って「テスト計画書」を日本語Markdownで**完全版**として組み立ててください。曖昧な箇所はベストプラクティスで補い、必ず「表」「チェックリスト」「RACI」を含め、実務ですぐ使える粒度に具体化します。

### 出力要件
- 文頭に目次（`[TOC]`相当のリンクリスト）を出力。
- 章節構成はテンプレート順を維持。空の節は「該当なし」と明記。
- 重要KPI/Entry/Exit/欠陥SLA/リスクは**表**で提示。
- 体裁: 見出しは`#~###`、表はMarkdown表、箇条書きは`-`、チェックは`- [ ]`。
- 用語は一貫。数値は単位を明記。日付はYYYY-MM-DD。
- 最後に「承認欄（署名/日付）」を付与。

### テンプレート（ここから厳守して構成）
# テスト計画書（PMBOK準拠）

- プロジェクト名: {{プロジェクト名}}
- バージョン: {{バージョン/版数}}
- 作成日: {{作成日}}
- 作成者/連絡先: {{作成者/連絡先}}
- 計画対象期間: {{計画対象期間}}

## 目次
- [1. 目的と背景](#1-目的と背景)
- [2. スコープ](#2-スコープ)
- [3. 関連文書・参照規格](#3-関連文書参照規格)
- [4. テストアプローチ](#4-テストアプローチ)
- [5. 品質目標とKPI](#5-品質目標とkpi)
- [6. テストレベルと対象](#6-テストレベルと対象)
- [7. 前提・制約・外部依存](#7-前提制約外部依存)
- [8. テスト環境](#8-テスト環境)
- [9. 体制と役割（RACI）](#9-体制と役割raci)
- [10. コミュニケーション/報告](#10-コミュニケーション報告)
- [11. 欠陥管理（重大度/優先度/SLA）](#11-欠陥管理重大度優先度sla)
- [12. 構成管理・変更管理](#12-構成管理変更管理)
- [13. エントリ/エグジット基準](#13-エントリエグジット基準)
- [14. スケジュール/マイルストーン](#14-スケジュールマイルストーン)
- [15. 見積（工数/コスト）](#15-見積工数コスト)
- [16. リスクと対応計画](#16-リスクと対応計画)
- [17. セキュリティ/個人情報保護](#17-セキュリティ個人情報保護)
- [18. 成果物一覧](#18-成果物一覧)
- [19. 用語集](#19-用語集)
- [20. 承認](#20-承認)

### 1. 目的と背景
{{目的・背景}}

### 2. スコープ
**対象範囲**  
- {{スコープ（対象の要約）}}

**非対象範囲**  
- {{スコープ（非対象の要約）}}

### 3. 関連文書・参照規格
- 要件定義書 / 仕様書 / ユースケース / 変更要求 / 契約・SLA / セキュリティ基準 / 各種規格（ISO/IEC/ISTQB等）  
（該当文書があれば列挙）

### 4. テストアプローチ
- **戦略:** リスクベース/要件ベース/探索的/自動化比率（例: {{自動化比率}}%）
- **重点領域:** {{重要領域}}
- **テスト観点例:** 正常/異常/境界値/性能/信頼性/セキュリティ/可用性/回復/互換/アクセシビリティ/国際化 等
- **テストデータ:** 合成/匿名化/本番相当、データ量と作成方針
- **トレーサビリティ:** 要件⇔テストケース⇔欠陥のリンク方針

### 5. 品質目標とKPI
| 指標 | 目標値 | 測定方法 | 測定頻度 | 備考 |
|---|---:|---|---|---|
| 合格率（全体） | {{合格率目標%}}% | 実行結果/件数 | 日次 | 重要機能は個別管理 |
| 欠陥密度 | {{欠陥密度目標}} /KLOC | 登録欠陥/コード量 | 週次 | 重大度別傾向も確認 |
| 重大度High以上割合 | ≤ {{High比率目標}}% | 欠陥台帳 | 週次 | 発見時点で即時エスカレーション |
| テストケース進捗率 | 100% | 予定対実績 | 日次 | スプリント末までに完了 |
| MTTR（欠陥修正） | ≤ {{MTTR目標}} 日 | 登録～クローズ | 週次 | 重大度別SLAと連動 |

### 6. テストレベルと対象
| レベル | 目的 | 主対象/範囲 | 完了条件 |
|---|---|---|---|
| 単体（UT） | 実装の最小単位の妥当性 | 関数/クラス | TC合格率{{UT合格率目標}}%以上 |
| 結合（IT） | 連携の整合/IF検証 | モジュール間/外部API | 重大度High以上ゼロ |
| システム（ST） | E2E品質の確認 | 全機能/非機能 | 主要シナリオ合格 |
| 受入（UAT） | 業務受容可否 | ビジネスシナリオ | 受入基準満たす |
| 回帰/性能/セキュリティ 等 | 回帰影響/非機能品質 | 重要領域 | しきい値達成 |

### 7. 前提・制約・外部依存
- **前提:** {{前提例}}
- **制約:** {{制約例}}
- **外部依存:** {{外部依存例}}（他チーム/ベンダ/認証局/サンドボックス 等）

### 8. テスト環境
| 項目 | 内容 |
|---|---|
| ハード/クラウド | CPU/RAM/リージョン/台数 |
| OS/ミドル/DB | バージョン、互換性 |
| アプリ/ビルド | ブランチ、ビルドID、デプロイ手順 |
| テストデータ | 生成方法、匿名化方針、容量 |
| アカウント/権限 | ロール別権限、秘密情報管理 |
| 監視/ログ | 収集方法、保管期間 |

### 9. 体制と役割（RACI）
| タスク | R | A | C | I |
|---|---|---|---|---|
| 計画策定 |  |  |  |  |
| TC設計/レビュー |  |  |  |  |
| 実行/記録 |  |  |  |  |
| 欠陥起票/トリアージ |  |  |  |  |
| 週次レポート |  |  |  |  |
| リリース判定支援 |  |  |  |  |

### 10. コミュニケーション/報告
- **デイリー:** 進捗/障害/ブロッカー（テンプレあり）
- **週次:** KPIダッシュボード、リスク更新、意思決定事項
- **エスカレーション:** 重大度High以上は{{SLA}}時間以内に報告

### 11. 欠陥管理（重大度/優先度/SLA）
| 重大度 | 定義 | 例 | 目標SLA（初回対応/修正/再テスト） |
|---|---|---|---|
| Critical | 全停止/重大損失 | 起動不可、P0障害 | {{SLA例}} |
| High | 主要機能不可/回避不可 | 決済失敗 等 | {{SLA例}} |
| Medium | 回避可能な不具合 | 表示崩れ 等 | {{SLA例}} |
| Low | 軽微/提案 | コピー修正 等 | {{SLA例}} |

**優先度定義:** P0/P1/P2/P3 …（ビジネス影響・再現性・回避可否で決定）

### 12. 構成管理・変更管理
- 成果物リポジトリ、命名規約、版管理ルール
- 変更要求の受付～承認～反映～通知フロー（CAB/CCB連携）

### 13. エントリ/エグジット基準
**エントリ（開始条件）**  
- 環境準備完了 / ビルド受領 / TCレビュー完 / データ準備OK / 依存完了

**エグジット（完了条件）**  
- 重大度High以上ゼロ / KPI達成 / 残課題合意 / 成果物提出 / 承認取得

### 14. スケジュール/マイルストーン
| 期間 | マイルストーン | 成果物 |
|---|---|---|
| {{日付}} | 計画合意 | 承認済み計画書 |
| {{日付}} | TC設計完了 | TC一覧 |
| {{日付}} | 実行完了 | 結果レポート |
| {{日付}} | 退出判定 | 退出判定メモ |

### 15. 見積（工数/コスト）
- 見積根拠（WBS/生産性/自動化比率）
- 工数内訳（設計/実行/データ/管理/レビュー）
- コスト内訳（人件費/ツール/環境/外部）

### 16. リスクと対応計画
| リスク | 影響 | 兆候/指標 | 回避/低減策 | 担当 | 期日 |
|---|---|---|---|---|---|
| {{例}} | {{例}} | {{例}} | {{例}} | {{例}} | {{例}} |

### 17. セキュリティ/個人情報保護
- データ匿名化/マスキング、鍵管理、アクセス制御、監査ログ、持出禁止

### 18. 成果物一覧
- テスト計画書、TC一覧、実行結果、欠陥台帳、週次レポート、退出判定メモ 等

### 19. 用語集
- 主要用語を簡潔に定義

### 20. 承認
- [ ] 承認者: ＿＿＿＿＿（署名） 日付: ＿＿＿＿＿

---

## Instruction to Cursor
- **Role:** system
- **Temperature:** 0.2（一貫性重視）
- **Steps:**
  1) Parametersを吸収 → 2) テンプレートへマッピング → 3) 欠落値はベストプラクティスで補完 → 4) 完全なMarkdownを出力（追記/編集しやすい表現を優先）。
- **Output Format:** 純Markdownのみ。余計な説明や前置きは出力しない。
